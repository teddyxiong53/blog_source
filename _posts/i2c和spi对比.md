---
title: i2c和spi对比
date: 2021-02-21 13:40:30
tags:
- Linux
---

--

**第一，总线拓扑结构/信号路由/硬件资源耗费**

IIC 只需两根信号线，

而标准SPI至少四根信号，如果有多个从设备，信号需要更多。

一些SPI变种虽然只使用三根线——SCLK, SS和双向的MISO/MOSI，

但SS线还是要和从设备一对一根。

另外，如果SPI要实现多主设备结构，总线系统需额外的逻辑和线路。

用IIC 构建系统总线唯一的问题是有限的7位地址空间，

但这个问题新标准已经解决——使用10位地址。从第一点上看，IIC是明显的大赢家。



**第二，数据吞吐/传输速度**

如果应用中必须使用高速数据传输，那么SPI是必然的选择。

**因为SPI是全双工，IIC 的不是。**

**SPI没有定义速度限制**，一般的实现通常能达到甚至超过10 Mbps。

IIC 最高的速度也就快速+模式（1 Mbps）和高速模式（3.4 Mbps），

后面的模式还需要额外的I/O缓冲区，还并不是总是容易实现的。



**第三，优雅性**

IIC 常被称更优雅于SPI。

公正的说，我们更倾向于认为两者同等优雅和健壮。

IIC的优雅在于它的特色——**用很轻盈的架构实现了多主设备仲裁和设备路由**。

但是对使用的工程师来讲，理解总线结构更费劲，而且总线的性能不高。

SPI的优点在于它的结构相当的直观简单，容易实现，并且有很好扩展性。

SPI的简单性不足称其优雅，

因为要用SPI搭建一个有用的通信平台，还需要在SPI之上构建特定的通信协议软件。

也就是说要想获得SPI特有而IIC没有的特性——高速性能，工程师们需要付出更多的劳动。

**另外，这种自定的工作是完全自由的，这也说明为什么SPI没有官方标准。**

IIC和SPI都对低速设备通信提供了很好的支持，

**不过，SPI适合数据流应用，而IIC更适合“字节设备”的多主设备应用。**



**小结**

在数字通信协议簇中，IIC和SPI常称为“小”协议，

相对Ethernet, USB, SATA, PCI-Express等传输速度达数百上千兆字节每秒的总线。

但是，我们不能忘记的是各种总线的用途是什么。

“大”协议是用于系统外的整个系统之间通信的，

“小”协议是用于系统内各芯片间的通信，

没有迹象表明“大”协议有必要取代“小”协议。

IIC和SPI的存在和流行体现了“够用就好”的哲学。

回应文首，IIC和SPI如此的流行，它是任何一位嵌入式工程师必备的工具。



参考资料

1、

https://zhuanlan.zhihu.com/p/63879154