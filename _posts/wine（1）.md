---
title: wine（1）
date: 2024-04-08 19:19:17
tags:
	- windows

---

--

# wine简介

Wine是一个免费且开源的兼容层，允许在类UNIX操作系统（如Linux、macOS等）上运行Windows程序。

它的名称“Wine”是“Wine Is Not an Emulator”的递归缩写，

这意味着它不是一个完整的虚拟化环境，

而是实现了Windows API的一套库，

使得Windows应用程序可以在非Windows系统上运行。

Wine的目标是提供一个兼容层，使得用户可以在非Windows系统上无需修改程序代码或进行虚拟化的情况下运行Windows程序。

Wine的开发历史可追溯到1993年，从那时起一直在持续发展。

它提供了许多工具和库，用于实现Windows API，并且经过多年的不断改进和完善，能够支持许多Windows应用程序在非Windows平台上良好地运行。

虽然Wine的性能和兼容性在不同的应用程序上会有所不同，但它已经取得了相当大的成功。

除了原始的Wine之外，还有许多基于Wine的衍生项目，如Crossover、Proton等，

它们通常会提供更加用户友好的界面和其他增强功能，以改善Windows程序在非Windows系统上的运行体验。

总的来说，Wine是一个强大的工具，使得用户能够在非Windows系统上运行许多Windows应用程序，为跨平台兼容性提供了一个重要的解决方案。

# wine发展历史

Wine项目的发展历史可以追溯到1993年，当时Bob Amstadt启动了这个项目，最初的目标是为了运行Windows 3.1程序。Wine的名称“Wine”是“Wine Is Not an Emulator”的递归缩写，强调了它不是一个完整的虚拟化环境，而是一个Windows API的实现。

在1994年，Alexandre Julliard加入了项目，并在接下来的几年中成为了主要的开发者之一。他的贡献使得Wine项目取得了显著的进展。

在Wine的早期版本中，兼容性和性能都相对较差。然而，随着时间的推移，社区的不断努力和改进，Wine变得更加稳定、兼容性更好，并且能够支持越来越多的Windows程序。

2008年，Wine的开发模式发生了改变，引入了年度发布计划。这使得用户可以更方便地跟踪Wine的发展，并更及时地获取新功能和改进。

2010年，Wine 1.2发布，标志着Wine项目的一个重要里程碑，因为这是第一个稳定版本，能够运行许多Windows程序而不需要太多的定制。

在接下来的几年里，Wine项目继续稳步发展。随着对Windows API的实现不断改进，越来越多的Windows应用程序能够在Wine上顺利运行。

2018年，Valve公司发布了名为Proton的Wine衍生版本，旨在改进Steam游戏在Linux上的兼容性。Proton在Wine的基础上添加了一些额外的优化和改进，使得更多的Windows游戏能够在Linux上流畅运行。

总的来说，Wine项目经过数十年的发展，已经成为一个强大而成熟的工具，使得用户能够在非Windows系统上运行许多Windows应用程序，为跨平台兼容性提供了一个重要的解决方案。

# wine的成熟度

Wine的成熟度可以说是相当高的，尤其是在最近几年的发展中，它已经成为了一个非常可靠的工具，能够在非Windows系统上运行许多Windows应用程序。以下是评估Wine成熟度的一些关键方面：

1. **兼容性：** 随着时间的推移，Wine对Windows API的实现不断改进，导致许多Windows应用程序能够在Wine上良好运行。虽然不是所有的Windows程序都能无缝运行，但已经有很多被证明可以在Wine上稳定地工作，尤其是一些常见的办公软件、游戏等。

2. **稳定性：** Wine在处理Windows程序时已经相当稳定。虽然偶尔会有一些问题，但整体而言，Wine在稳定性方面取得了显著的进展，大多数用户可以期待一个良好的运行环境。

3. **性能：** Wine的性能取决于许多因素，包括主机系统的硬件配置、所运行的程序以及Wine本身的优化程度。在许多情况下，Wine的性能可以与在Windows系统上运行相同程序相媲美，尤其是在高端硬件上。

4. **社区支持：** Wine有一个庞大的活跃社区，包括开发者、用户和贡献者，他们提供支持、修复漏洞、改进文档等。这个社区的存在使得Wine能够不断地改进和完善。

5. **衍生项目：** 除了原始的Wine之外，还有许多基于Wine的衍生项目，如Crossover、Proton等，它们通常会提供更加用户友好的界面和其他增强功能，以改善Windows程序在非Windows系统上的运行体验。

综上所述，虽然Wine并不是完美无缺的，但它已经成为了一个成熟且可靠的工具，使得许多用户能够在非Windows系统上运行Windows应用程序。

# wine代码目录作用说明

Wine代码目录包含了整个Wine项目的源代码，其中包括了实现Windows API的核心库、工具、驱动程序以及其他相关组件。这个代码目录是Wine开发和维护的核心，对于理解Wine的工作原理、进行定制化和扩展非常重要。以下是一些主要的子目录及其功能说明：

1. **dlls：** 这个目录包含了实现Windows DLL（动态链接库）的源代码。每个子目录对应一个Windows DLL，例如kernel32、user32等。这些DLL是Wine实现Windows API的核心组成部分，它们包含了大量的函数和数据结构，用于模拟Windows环境。

2. **programs：** 这个目录包含了Wine项目中的一些命令行程序，例如Wine自身的启动器wine、注册表编辑器regedit等。这些程序在一些特定场景下可能会被用到。

3. **include：** 这个目录包含了一些头文件，用于定义Windows API的数据结构、函数原型等。这些头文件在开发过程中被其他源代码引用，用于编译和链接。

4. **server：** 这个目录包含了Wine服务器的源代码，该服务器负责管理和协调Wine环境中的各种资源，如进程、线程、窗口等。

5. **tools：** 这个目录包含了一些用于开发和调试的工具，例如调试器winedbg、性能分析工具wpp等。

6. **loader：** 这个目录包含了Wine的加载器源代码，负责加载和初始化Wine环境，以及加载Windows程序并开始执行。

7. **documentation：** 这个目录包含了Wine项目的文档，包括用户手册、开发文档、API参考等。

8. **tests：** 这个目录包含了Wine项目的测试代码，用于验证Wine在不同情况下的行为是否符合预期。

除了上述列举的目录外，还有许多其他的子目录和文件，用于实现各种功能和组件，以及对Windows API的不断完善和扩展。整个代码目录是Wine开发者们进行开发、维护和改进的主要工作场所。

# 从wine的programs目录下看windows常用命令行工具

# wine使用

```
WINEARCH=win32 wine notepad.exe
```

一个容器只安装一个软件。

## winecfg

Winecfg 是 Wine 的 GUI 配置工具，旨在使生活比编辑注册表更容易一些。

本文档的目的是描述 winecfg 的功能，但这些功能可能不太直观。

应该指出的是，已提议对 winecfg 进行更改以提高其整体可用性（用户友好性）。

也就是说，这份文件将来很可能会短得多。

提示：虽然 winecfg 是一个很棒的配置工具，但一些更高级的设置只能通过编辑注册表（即使用 [“regedit”] 工具）来更改。

您可以在这里找到一些有用的注册表项。

与往常一样，编辑注册表时应小心谨慎。

## winetricks



# wine代码里的idl文件是做什么的

在Wine代码中，IDL文件是接口定义语言（Interface Definition Language）的文件，

用于定义COM（Component Object Model）组件的接口。

==COM是一种微软提出的组件化编程模型，==允许不同组件之间进行交互和通信，IDL文件定义了这些组件之间的接口、方法、属性等。

具体来说，Wine中的IDL文件用于描述Windows API中的COM组件接口。

这些IDL文件定义了Windows API中各种COM接口的结构和行为，

例如DLL、控件、服务等。

通过IDL文件，Wine可以实现对Windows API的逐步完善和扩展，

使得越来越多的Windows程序能够在非Windows系统上运行。

在Wine的开发过程中，IDL文件会被编译成对应的头文件和代码，供其他源文件引用和调用。

这些头文件包含了COM接口的定义，开发者可以基于这些头文件来实现具体的功能和组件。

总的来说，IDL文件在Wine项目中的作用是定义Windows API中COM组件的接口，为实现Windows API的兼容性和功能提供了基础。