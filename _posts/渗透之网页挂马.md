---
title: 渗透之网页挂马
date: 2020-09-23 15:39:30
tags:
	- 渗透

---

1

**网站挂马是怎么回事？**

网页挂马指的是把一个木马程序上传到一个网站里面，然后用木马生成器生一个网马，再上到网站空间里面！

**再加代码使得木马在打开网页时运行！**

**如何发现网站被挂马？**我们不能等网站被黑后才做出反应，在网站正常运行时就应对网站进行网站挂马检测：

1、在QQ上给别人发送网站网址时，如果出现了一个危险的网站，你就应该注意了。

2、在做网站信息查询时，发现异常，比如网站的标题被修改了。

3、打开网页很慢，或者打不开，有很多情况是打开网站时会跳转到其他网站，一般是赌博站居多。

4、打开网站时，网站的版面出现错位或出现了一些不是自己做的广告链接等等。

5、打开网站时，网站自动下载文件。



出现这样的情况，**就是黑客在网站相应的asp,htm,js等文件中被加入代码，插入以js调用方式。**

还有一种是服务器被入侵，在网站运行环境挂马。



**为什么会出现网站被挂马的问题？**主要的原因有3个方面：

1、就是你的竞争对手想借助搜索引擎打压你，**网站被挂灰色行业链接，很容易被搜索引擎误认你网站与灰色行业挂钩，从而对你网站采取降权措施。**

2、就是你的网站优化做得很好，进入网站的流量很大，被灰色行业所盯上，想在你网站上放些链接，从而引导流量进入他们网站，从而获得利润。

3、被别人当做试验品，**由于自己网站后台程序采用的是模板程序，有些人想想显摆下自己的技术，**刚好选中你的网站，在你网站上倒腾。



**出现网站挂马时应如何处理？**当我们的网站检测出被挂马后，也不必慌张，我们可以通过以下方法解决：

1、修改网站的后台地址、后台的登录用户密码，在设置密码时要尽量复杂。

2、如果网站后台使用的是ftp上传文件，要修改ftp的登录密码，密码同样要复杂。

3、删除网站挂马的程序：

1）打开网站源代码，人工检测木马程序，**通常木马程序主要有这样类似的代码:&lt;iframe…或者…xxx.js**&gt;&lt;/script&gt;。出现这些特征的代码，**如果里面包含的网址不是用户网站的，那基本上就是中了木马了**，我们可以先进行备份再木马进行删除。

2）如果你不确定你找到的是否是木马程序，**可以通过服务器文件夹中文件的创建时间来进行判断**，一般seoer会每天进行网站操作，网站做了什么调整心里应该是有数的，不是他建立的基本上就是木马程序了。

3）也可以直截了当，对出现网站挂马的时间进行判断，将网站恢复备份至挂马之前的状态，这就体现出网站备份的重要性了。

4）木马清除后，**应向各大平台进行投诉，告知网站已经恢复正常**，如果快照没有及时恢复，可以删除百度快照，并更新快照。



**如何预防网站挂马？**一直都在讲怎么处理网站挂马，我们也可以先人一步，通过一些操作来避免网站挂马：

1、对用户开放上传附件功能的网站，**必须对用户身份进行验证**，比如论坛必须注册为用户才可以发布带附件的文章。

2、保证网站所使用的程序都是最新版本的，老版本可能存在漏洞。

3、**不要在网站前台添加后台管理员登录入口，以防黑客更方便的入侵网站。**

4、定期备份网站文件、数据库文件，**必要时可以让服务器自动每天备份**，间隔一定时间比如一个星期为单位进行手动备份，防患于未然。

5、管理员用户名、密码一定要复杂，结合数字、字母大小写、各种特殊符号等等。

6、**创建一个robots.txt上传到网站根目录。Robots能够有效的防范利用搜索引擎窃取信息的黑客。**



参考资料

1、网站挂马是怎么回事？网站挂马检测工具及预防应对措施

http://www.xiongtu365.com/seojishu/540.html