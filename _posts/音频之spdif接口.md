---
title: 音频之spdif接口
date: 2021-03-26 11:10:41 
tags:
	- 音频

---

--

# 简介

spdif是sony和Philips合作开发的接口。

缩写里的d表示digital。

就传输方式而言，SPDIF分为输出（SPDIF OUT）和输入（SPDIF IN）两种。

**大多数的声卡芯片都能够支持SPDIF OUT，**

但我们需要注意，并不是每一种产品都会提供数码接口。

**而支持SPDIF IN的声卡芯片则相对少一些，**

如：EMU10K1、YMF-744和FM801-AU、CMI8738等。

SPDIF IN在声卡上的典型应用就是CD SPDIF，但也并不是每一种支持SPDIF IN的[声卡](https://baike.baidu.com/item/声卡/108520)都提供这个接口。



就传输载体而言，**SPDIF又分为同轴和光纤两种**，

其实他们可传输的信号是相同的，只不过是载体不同，接口和连线外观也有差异。

**但光信号传输是今后流行的趋势，**

其主要优势在于无需考虑接口电平及阻抗问题，

接口灵活且抗干扰能力更强。

**通过SPDIF接口传输数码声音信号已经成为了新一代PCI声卡普遍拥有的特点。**

# IEC61937

IEC 61937是国际电工委员会（International Electrotechnical Commission，IEC）发布的标准，

定义了一种数字音频传输接口的格式，

称为"S/PDIF"（Sony/Philips Digital Interface Format）或"IEC 61937格式"。



IEC 61937规定了将数字音频信号传输到音频设备（如音频接收器、解码器等）的方式。

==它定义了音频数据的帧结构、同步信号、采样率、信道布局等方面的要求。==



IEC 61937标准支持多种音频编码格式，包括以下常见的格式：

1. PCM（Pulse Code Modulation）：将模拟音频信号转换为数字音频的标准编码格式。
2. Dolby Digital（AC-3）：一种多声道音频编码格式，广泛用于家庭影院系统和数字电视。
3. DTS（Digital Theater Systems）：一种用于多声道音频的编码格式，通常在影院系统中使用。
4. MPEG（Moving Picture Experts Group）：一组音频和视频编码标准，包括MPEG-1、MPEG-2和MPEG-4。



==IEC 61937定义了一种压缩和非压缩音频数据的传输格式，使得音频信号可以通过数字接口（如光纤或同轴电缆）进行传输，并保留原始音频数据的完整性和质量。==

## 帧格式

该帧格式用于将音频数据从源设备传输到接收设备，以确保数据的完整性和正确解析。

IEC 61937帧格式的基本结构如下：

1. 帧同步（Frame Sync）：帧同步是一个固定的模式，用于标识帧的开始。它通常由几个连续的特定比特序列组成，用于同步接收设备的时钟。

2. 数据块（Data Block）：数据块包含音频数据的实际内容。它可以是PCM音频样本、压缩音频帧或其他音频编码格式的数据。

3. 控制信息（Control Information）：控制信息用于传递关于音频数据的附加信息，如采样率、位深度、声道布局等。这些信息帮助接收设备正确解析和处理音频数据。

IEC 61937帧格式的具体细节取决于音频编码格式和传输接口的要求。

例如，在PCM音频传输中，数据块通常由一系列连续的音频样本组成，

每个样本由一定数量的比特表示。

而在压缩音频传输中，数据块可以是特定音频编码格式的压缩帧。

需要注意的是，IEC 61937帧格式仅负责音频数据的传输和同步，不负责音频编解码。

音频编解码由接收设备的解码器负责，根据控制信息和数据块中的音频数据进行解码和处理。

总结起来，IEC 61937帧格式定义了数字音频传输接口的基本结构，包括帧同步、数据块和控制信息。具体的帧格式取决于音频编码格式和传输接口的要求。该帧格式用于确保音频数据的正确传输和解析。

### 帧结构举例说明

以下是一个示例，展示了IEC 61937帧结构的基本组成部分：

```
| Sync Pattern | Control Info | Audio Data |
-------------------------------------------
|   Sync 1     |   Control 1  |   Data 1   |
|   Sync 2     |   Control 2  |   Data 2   |
|   Sync 3     |   Control 3  |   Data 3   |
```

在这个示例中，每个帧由三个部分组成：同步模式（Sync Pattern）、控制信息（Control Info）和音频数据（Audio Data）。

1. 同步模式（Sync Pattern）：同步模式用于标识帧的开始，以同步接收设备的时钟。它通常由一系列连续的特定比特序列组成。在示例中，同步模式用"Sync 1"、"Sync 2"和"Sync 3"表示。

2. 控制信息（Control Info）：控制信息用于传递关于音频数据的附加信息，如采样率、位深度、声道布局等。控制信息的具体格式和字段取决于音频编码格式和传输接口的要求。在示例中，控制信息用"Control 1"、"Control 2"和"Control 3"表示。

3. 音频数据（Audio Data）：音频数据部分包含实际的音频样本或编码后的音频帧。它是音频传输的核心部分。音频数据的具体格式和编码方式取决于音频编码格式的要求。在示例中，音频数据部分用"Data 1"、"Data 2"和"Data 3"表示。

这只是一个简化的示例，实际的IEC 61937帧结构可能更加复杂，具体取决于音频编码格式和传输接口的要求。每个音频编码格式都可能有自己特定的帧结构和控制信息格式。

重要的是要理解，IEC 61937帧结构的目的是确保音频数据在传输过程中的完整性和正确解析，以便接收设备能够正确解码和处理音频数据。

### sync的长度和内容

IEC 61937标准中的同步模式（Sync Pattern）是==用于标识帧的开始，==

并帮助接收设备进行时钟同步的==固定比特序列。==

同步模式的长度和具体内容取决于使用的传输接口和音频编码格式。

在S/PDIF（Sony/Philips Digital Interface Format）传输接口中，同步模式的长度为32比特，通常被称为"Sync Word"。它的内容是一个固定的比特序列，用于标识帧的开始。

==S/PDIF的同步模式内容为：``1110 0111 0000 0010 0000 0011 0000 0010``==

这个32比特的同步模式序列在S/PDIF传输中一般被发送设备连续地重复发送，以确保接收设备能够正确识别帧的开始，并与发送设备的时钟同步。

需要注意的是，对于其他的传输接口或特定的音频编码格式，同步模式的长度和内容可能有所不同。因此，在实际应用中，需要根据所使用的具体标准和规范来确定同步模式的长度和内容。

### IEC61937_PA_OFFSET

在IEC 61937标准中，"IEC61937_PA_OFFSET"是指音频数据的偏移量。

它是一个参数，用于确定音频数据在帧中的起始位置。

IEC 61937定义了一种帧结构，其中包含同步模式、控制信息和音频数据。

音频数据的偏移量指示了音频数据相对于帧的起始位置的偏移量。

换句话说，它表示了在帧中从哪个位置开始包含音频数据。

IEC61937_PA_OFFSET的具体值取决于音频编码格式和传输接口的要求。

不同的音频编码格式可能有不同的偏移量值。例如，在PCM音频传输中，通常将IEC61937_PA_OFFSET设置为0，表示音频数据从帧的起始位置开始。==而在某些压缩音频编码格式中，可能需要设置非零的偏移量值。==

需要注意的是，IEC61937_PA_OFFSET是一个标准中定义的参数，用于指示音频数据在帧中的位置。它对于正确解析和处理音频数据非常重要，因为接收设备需要根据偏移量来定位和提取音频数据。

总结起来，IEC61937_PA_OFFSET是IEC 61937标准中用于指示音频数据在帧中起始位置的偏移量。具体的偏移量值取决于音频编码格式和传输接口的要求。它对于接收设备正确解析和处理音频数据非常重要。



# **数字音箱与数字声卡的关系**

其次大家可能对依靠同轴SPDIF OUT连接[数字式音箱](https://baike.baidu.com/item/数字式音箱)从而实现纯[数字音频](https://baike.baidu.com/item/数字音频)回放的具体原理不太清楚，

接下来笔者为大家简要介绍一下。

前面我们就提到过，声卡的[数字模拟转换](https://baike.baidu.com/item/数字模拟转换/18451742)工作是交给CODEC芯片来完成的。

但是我们的[电脑机箱](https://baike.baidu.com/item/电脑机箱)内依然存在着严重的电磁波，

**D/A、A/D转换仍然会受到比较严重的信号干扰。**

许多专业音频录音卡普遍采用将CODEC外置的做法，

把数模转换部分以及各类外部接口等单独做成一个外置盒，以提高音质。

但是这样做的直接后果便是成本大幅度提高，在家用多媒体市场肯定是曲高和寡的。

那到底有没有价廉物美的办法呢？

**一些音箱厂家就想出了把D/A转换工作从声卡上转移到音箱上的方案，**

数字式多媒体音箱也就应运而生了，

CREATIVE的FPS2000 Digital、Sound Works 2.1Digital就属于这种类型。

这种方案的基本原理就是声音信号不经过声卡CODEC芯片的转换处理，

**直接以PCM格式，使用声卡上的同轴SPDIF OUT，**

以纯数字方式传输到数字音箱中，

通过音箱内置的[D/A转换器](https://baike.baidu.com/item/D%2FA转换器)解码，随后放大输出。

**这样干扰减小了，信噪比自然有所提高。**

主要不足之处在于，眼下部分数字音箱的D/A转换单元、放大器、扬声器素质不高，造成数字式传输的优势不能被完美的表现出来。



spdif上传输pcm格式数字音频。**数字的抗干扰能力比模拟信号好得多。**

传输容易受到干扰。

# spdif信号

S/PDIF往往被用来传输压缩过的音频讯号，它由 IEC 61937标准而定制。

spdif发出的波形为BMC编码，时钟与数据混合在一起进行编码。

# 参考资料

1、SPDIF

https://baike.baidu.com/item/SPDIF/7208010?fr=aladdin

2、

https://www.touying.com/t-43734-1.html

3、

https://blog.csdn.net/CallMe_Xu/article/details/120533677