---
title: Ubuntu之实验xfce桌面
date: 2018-11-29 19:30:08
tags:
	- ubuntu

---



Ubuntu的默认桌面，我一向是不太喜欢的，xfce是我比较喜欢的风格。简单轻量，风格跟windows接近，又带着mac os的风格。

我的笔记本也比较老，跑xfce还挺好，资源占用低，运行比较流畅。

安装

```
sudo apt-get install xfce4
```

然后选择注销，在右上角的Ubuntu log那里点击一下，选择登录器为xfce，然后登陆就可以了。

# 发展历史

Xfce 是一款轻量级的桌面环境，旨在提供快速、稳定和易于使用的用户界面。下面是 Xfce 的发展历史的概述：

1. 初始版本（1996-2002）：
   Xfce 最初由 Olivier Fourdan 开发，最早于 1996 年发布。它最初是作为 CDE（Common Desktop Environment）的替代品而创建的。在接下来的几年中，Xfce 经历了多个版本的迭代开发，以改进和扩展其功能。

2. Xfce 4.x 系列（2003-2015）：
   Xfce 4.x 系列是 Xfce 的重大改进和发展阶段。于 2003 年发布的 Xfce 4.0 版本引入了全新的架构和基于 GTK+ 2 的用户界面。这一系列版本通过改进外观、提供更多的配置选项、增强性能和稳定性等方面的功能来不断发展。

3. Xfce 4.12 版本（2015）：
   Xfce 4.12 是一个重要的里程碑版本，于 2015 年发布。它带来了一系列的改进和新功能，包括对高分辨率屏幕的优化支持、新的电源管理器、面板插件的重新设计等。这个版本进一步加强了 Xfce 的稳定性和可用性。

4. Xfce 4.14 版本（2019）：
   Xfce 4.14 是 Xfce 的最新稳定版本，于 2019 年发布。这个版本引入了一系列的改进和更新，包括对 GTK+ 3 的迁移、新的应用程序菜单、新的设置管理器等。Xfce 4.14 继续改善了 Xfce 的性能、稳定性和用户体验。

除了这些主要版本之外，Xfce 还通过持续的小版本更新和 bug 修复来不断改进。开发者和社区成员积极参与 Xfce 的开发和维护，确保其持续的发展和进步。

总结起来，Xfce 是一个在过去几十年中不断发展和演进的轻量级桌面环境。它通过一系列的版本迭代和改进，提供了快速、稳定和易于使用的用户界面。Xfce 的发展历史展示了其持续关注性能、稳定性和用户体验的承诺。

# 代码

所有代码都在这里：

https://gitlab.xfce.org/xfce

# xfce由哪些组件组成？互相的关系是什么？

Xfce 桌面环境由多个核心组件组成，它们协同工作以提供完整的桌面体验。以下是 Xfce 桌面环境的主要组件及其之间的关系：

1. Xfwm4（窗口管理器）：
   Xfwm4 是 Xfce 的窗口管理器，负责管理和控制窗口的外观和行为。它提供了窗口装饰、焦点管理、工作区切换等功能，并与其他组件（如面板和桌面管理器）进行交互。

2. xfdesktop（桌面管理器）：
   xfdesktop 负责管理桌面背景、桌面图标和右键菜单等桌面相关的功能。它与窗口管理器和面板紧密集成，以提供一致的桌面体验。

3. xfce4-panel（面板）：
   xfce4-panel 是 Xfce 的面板，它是一个可自定义的任务栏和应用程序启动器。它提供了应用程序菜单、任务列表、系统托盘、工作区切换器等功能，并允许用户将插件添加到面板上。

4. Thunar（文件管理器）：
   Thunar 是 Xfce 的默认文件管理器，它提供了浏览文件和文件夹、文件操作（复制、粘贴、删除等）、搜索功能等。Thunar 与桌面管理器和面板紧密集成，以便在桌面上显示图标和提供文件操作选项。

5. xfce4-session（会话管理器）：
   xfce4-session 负责管理用户会话的启动和关闭。它记录用户的首选项和会话信息，并在用户登录时加载所需的组件和应用程序。

6. xfce4-settings（设置管理器）：
   xfce4-settings 是 Xfce 的设置管理器，用于配置桌面环境的各种选项。它允许用户调整外观、窗口行为、输入设备、电源管理等设置。

7. xfce4-power-manager（电源管理器）：
   xfce4-power-manager 提供了对电源管理和节能选项的控制。它允许用户管理电池状态、屏幕亮度、电源计划等。

这些组件相互协作，共同构成了 Xfce 桌面环境。窗口管理器控制窗口的外观和行为，面板提供任务栏和启动器，桌面管理器管理桌面背景和图标，文件管理器用于浏览和操作文件，会话管理器处理用户会话，设置管理器用于配置环境选项，而电源管理器管理电源和节能。它们的协同工作使得 Xfce 提供了轻量级、稳定和易于使用的桌面体验。

# 窗口管理器的作用是什么？

在Linux桌面系统中，窗口管理器是一种重要的组件，它负责管理和控制窗口的外观和行为。窗口管理器具有以下主要作用：

1. 窗口装饰：窗口管理器负责绘制窗口的边框和标题栏，包括最小化、最大化和关闭按钮等控件。它确定窗口的外观样式，使用户能够通过这些控件来操作窗口。

2. 窗口位置和大小：窗口管理器控制窗口的位置和大小。它负责在桌面上定位窗口，并根据用户的操作（如拖拽边缘或角落）调整窗口的大小。

3. 窗口焦点管理：窗口管理器处理窗口的焦点。它决定哪个窗口处于活动状态，并接收用户输入。窗口管理器通常会在窗口之间切换焦点，并提供一些可见指示（如突出显示或改变标题栏颜色）来表明当前焦点所在的窗口。

4. 窗口层次管理：窗口管理器管理窗口的层次关系。它确定窗口的堆叠顺序，即哪个窗口位于其他窗口之上或之下。这样可以确保窗口在屏幕上正确地重叠和显示。

5. 虚拟工作区/多桌面支持：一些窗口管理器提供了虚拟工作区或多桌面的功能，允许用户在桌面上创建多个独立的工作区。用户可以在不同的工作区之间切换，以更好地组织和管理打开的窗口。

通过这些功能，窗口管理器为用户提供了一种方便的方式来管理和操作窗口，从而实现桌面系统的可视化界面。不同的窗口管理器可以具有不同的特性和外观风格，使用户能够根据个人喜好和需求进行选择和定制。

# 基于xfce 进行桌面定制

https://www.xfce-look.org/browse/

基于 Xfce 进行桌面定制可以让你按照个人喜好和需求来打造一个定制化的桌面环境。下面是一些步骤来帮助你进行 Xfce 桌面定制：

1. 选择合适的发行版：选择一个基于 Xfce 的 Linux 发行版，例如 Xubuntu，它已经集成了 Xfce 桌面环境，可以为你提供一个良好的起点。

2. 外观定制：
   - 主题：选择合适的桌面主题来改变窗口边框、控件和图标的外观。你可以在 Xfce-Look.org 等网站上找到许多免费的主题供选择。
   - 壁纸：设置你喜欢的桌面壁纸。Xfce 提供了一个简单的界面来更改桌面背景。
   - 图标：更改图标主题，以改变文件和应用程序图标的外观。

3. 面板定制：
   - 添加和移除插件：xfce4-panel 允许你向面板上添加各种插件，如任务列表、应用程序菜单、系统托盘等。根据你的需求，添加或删除适合你的插件。
   - 面板位置和大小：调整面板的位置和大小，使其适应你的屏幕布局和个人偏好。

4. 快捷键和窗口管理定制：
   - 快捷键：使用 Xfce 的设置管理器来自定义系统级别和应用程序级别的快捷键。你可以为特定的操作设置自定义快捷键，以提高工作效率。
   - 窗口管理：通过窗口管理器（xfwm4）的设置来自定义窗口行为，如窗口焦点、移动和调整大小的方式。

5. 应用程序定制：
   - 安装和删除应用程序：根据你的需求安装或删除应用程序，以满足你的工作和娱乐需求。
   - 自定义应用程序菜单：使用菜单编辑器（如Alacarte）来自定义应用程序菜单，添加或删除菜单项，使其更符合你的使用习惯。

6. 个人化配置备份：
   - 一旦你进行了定制化配置，建议定期备份你的个人化配置文件。这样，在更新系统或重新安装后，你可以轻松地还原你的个人设置。

注意：在进行任何定制之前，请确保你对所做的更改有一定的了解，并记得备份重要的配置文件。定制桌面环境可能需要一些时间和实验，因此建议在进行大规模更改之前先尝试小的定制。此外，参考 Xfce 官方文

档和社区资源，以获得更多关于 Xfce 定制的详细信息和指导。

# xfce组件一键编译安装

如果你希望一键编译和安装 Xfce 组件，可以考虑使用一些可用的自动化脚本或包管理工具来简化这个过程。以下是两个常用的工具：

1. Xfce Build Script（xfce4-build）：
   Xfce 官方提供了一个名为 xfce4-build 的自动化构建脚本，它可以帮助你一键编译和安装 Xfce 组件。你可以从 Xfce 的 GitLab 仓库中获取该脚本。使用如下命令获取脚本：
   
   ```
   git clone https://gitlab.xfce.org/xfce/xfce4-build
```
   
   进入 xfce4-build 目录后，你可以使用该脚本来自动下载、编译和安装 Xfce 组件。例如，使用以下命令编译和安装所有 Xfce 组件：
   ```
   ./xfce4-build.sh install
```
   
该脚本将处理依赖项的安装、源代码的获取、配置、编译和安装过程。它还提供了一些选项和参数，可以根据需要进行自定义。
   
2. 包管理工具：
   另一种方法是使用你所使用的 Linux 发行版的包管理工具来安装 Xfce 组件。大多数 Linux 发行版都提供了预编译的 Xfce 软件包。你可以使用包管理工具（如apt、dnf、zypper等）来安装这些软件包。例如，在 Ubuntu 或 Debian 上，你可以使用以下命令安装 Xfce 组件：
   ```
   sudo apt update
   sudo apt install xfce4
   ```

   这将自动下载和安装 Xfce 桌面环境及其相关组件。

无论你选择哪种方法，请确保按照相关文档和指南的要求进行操作，并根据你的系统和需求进行适当的配置和定制。

实际的工具在这里：

https://gitlab.xfce.org/xfce/xfce4-dev-tools



https://docs.xfce.org/start



# xfce桌面系统里运行qt的程序

在 Xfce 桌面环境中运行 Qt 程序，你需要确保已安装 Qt 运行时库和必要的依赖项。以下是一些步骤来在 Xfce 中运行 Qt 程序：

1. 安装 Qt 运行时库：
   使用适合你的系统的包管理工具，安装 Qt 运行时库。例如，在 Ubuntu 或 Debian 上，你可以运行以下命令安装 Qt 运行时库：
   ```
   sudo apt update
   sudo apt install qt5-default
   ```

   这将安装 Qt5 运行时库和开发工具。

2. 设置环境变量：
   在终端中，设置以下环境变量，以确保系统能够正确找到 Qt 库和相关文件：
   ```
   export LD_LIBRARY_PATH=/path/to/qt/lib
   export QT_PLUGIN_PATH=/path/to/qt/plugins
   ```

   将 `/path/to/qt/lib` 替换为 Qt 库所在的路径，将 `/path/to/qt/plugins` 替换为 Qt 插件所在的路径。这些路径通常在安装 Qt 运行时库时自动设置，你可以使用 `whereis qt5` 命令来查找正确的路径。

3. 运行 Qt 程序：
   现在，你可以运行 Qt 程序了。在终端中，导航到 Qt 程序的目录，并运行可执行文件。例如：
   ```
   cd /path/to/qt/program
   ./program_name
   ```

   这将启动你的 Qt 程序并在 Xfce 桌面环境中显示。

请注意，以上步骤假设你已经正确安装了 Xfce 桌面环境和 Qt 运行时库。如果你遇到任何问题，可以查阅相关文档或社区资源，以获取更详细的指导和帮助。

# xfce和qt是什么关系

Xfce（X Forms Common Environment）和 Qt 是两个不同的软件项目，它们在 Linux 桌面环境中扮演不同的角色。

Xfce 是一个轻量级的开源桌面环境，旨在提供简单、快速、节省资源的桌面体验。它由一系列组件组成，包括窗口管理器、面板、文件管理器、应用程序启动器等。Xfce 使用 GTK（GIMP Toolkit）作为其默认的用户界面工具包，这意味着它使用的是基于 C 语言的 GTK2 或 GTK3 库来创建和呈现用户界面。

Qt 是一种跨平台的应用程序开发框架，最初由 Trolltech 公司开发，现在由 Digia 公司维护。它提供了丰富的工具和库，用于开发图形用户界面应用程序。Qt 支持多种编程语言，包括 C++、Python、JavaScript 等。Qt 提供了一致的 API 和强大的功能，使开发者能够轻松地创建跨平台的应用程序。

在 Xfce 中运行 Qt 程序并不需要 Qt 成为 Xfce 的一部分，因为 Xfce 使用的是 GTK 工具包。然而，由于 Qt 的跨平台特性和强大的开发能力，你可以在 Xfce 桌面环境中开发和运行使用 Qt 编写的应用程序。你可以安装 Qt 运行时库，并按照前面提到的步骤在 Xfce 中运行 Qt 程序。

总结来说，Xfce 是一个独立的桌面环境，而 Qt 是一个跨平台的应用程序开发框架，它们可以在不同的上下文中共存和使用。

# xfce和qt都要操作显示器，他们怎么进行配合的

Xfce 和 Qt 都可以与显示器进行配合，尽管它们使用不同的工具包和技术。

在 Xfce 中，通常使用 X11 或 X.Org 作为图形服务器协议来管理显示器和窗口。Xfce 使用窗口管理器（如xfwm4）来管理窗口的位置、大小和行为，并使用面板来显示任务栏、应用程序启动器和其他小部件。Xfce 还使用 RandR（Resize and Rotate）协议来提供动态分辨率和屏幕旋转的功能。

Qt 则提供了自己的显示器管理功能，它使用 Qt Graphics System（如：Qt Widgets 或 Qt Quick）来创建和呈现用户界面。Qt 提供了用于处理窗口、布局、分辨率、屏幕旋转等方面的类和函数。

当 Xfce 和 Qt 结合使用时，一些情况下可能需要进行一些额外的配置和适配，以确保它们能够协同工作和正确地处理显示器。例如：

1. DPI 设置：Xfce 使用自己的 DPI 设置来调整界面元素的大小，而 Qt 使用自己的 DPI 设置。为了保持一致的外观和字体大小，你可能需要根据需要在 Xfce 和 Qt 中进行 DPI 设置的协调。

2. 主题和样式：Xfce 和 Qt 使用不同的主题和样式引擎。你可以选择一个统一的主题，以确保 Xfce 和 Qt 应用程序的外观保持一致。

3. 窗口管理：当使用 Qt 程序时，Xfce 的窗口管理器可能需要正确地处理 Qt 窗口的放置、最大化和最小化等操作。这可能需要在窗口管理器的设置中进行适当的配置。

总之，Xfce 和 Qt 可以在 Linux 桌面环境中共同使用，并在显示器管理方面进行协调和配置，以提供一致且协调的用户体验。具体的配置和适配方式可能会因个人的需求和偏好而有所不同。