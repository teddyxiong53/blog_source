---
title: npu之google-colab
date: 2021-08-19 11:01:33
tags:
	- npu

---

--

谷歌有两个平台提供免费的云端GPU：Colab和Kaggle，

 如果你想深入学习人工智能和深度学习技术，那么这两款GPU将带给你很棒学习的体验。

那么问题来了，我们该选择哪个平台进行学习和工作呢？

接下来，本文将介绍如何比较硬件规格和探索优缺点的差异；

本文还将基于一个计算机视觉任务，

比较在不同平台下，使用迁移学习、混合精度训练、学习率模拟退火以及测试时间增广等操作时，所需的训练时间。

基于上述内容，你将对这两个平台的GPU性能，有一个更加全面和清楚的了解。

Kaggle 和 Colab 是两个非常相似的产品，它们都具有如下特性：

提供免费的GPU

**在浏览器中使用Jupyter进行交互**——但是它们都有自己独特的风格

旨在促进机器学习的协作

都是谷歌的产品

不是十全十美，但是在多数场景下都适用，尤其是在入门深度学习的时候

官方文档对硬件规格的描述较为简略



GPU是图形处理单元的简称，

最初GPU是为加速视频游戏的图形所开发的专用芯片，

**它们能够快速的完成大量的矩阵运算。**

该特性也使得GPU在深度学习领域崭露头角，

有趣的是，出于相同的原因，GPU也是挖掘加密货币的首选工具。

使用大显存的GPU来训练深度学习网络，比单纯用CPU来训练要快得多。

想象一下，使用GPU能够在十几分钟或者几个小时内，获得所训练网络的反馈信息，

而使用CPU则要花费数天或者数周的时间，GPU简直是棒呆了。



2019年三月初，kaggle将它的GPU芯片从Nvidia Tesla K80升级到了Nvida Tesla P100，然而Colab还在用K80。



有很多不同方法可以查看硬件的信息，

两个比较常用的命令是!nvidia-smi和 !cat/proc/cpuinfo，

分别用于查看GPU和CPU的信息。

即使你想用GPU来训练模型，CPU也是不必可少的，因此了解CPU的信息是必不可少的。



在官方文档中Kaggle声明，用户拥有9个小时的使用时间，

然而，对于每个会话，内核环境最多只会在窗口上显示6个小时。

值得注意的是，重新启动内核会重新启动时钟。

此外，如果用户在60分钟内没有任何操作，Kaggle会将会话重启。



Colab为用户提供12小时的执行时间，但是如果闲置时间超过90分钟，Colab就会将你踢掉。



**计算机视觉任务下的速度比较**

本文用一个图像分类的任务来比较Kaggle和Colab的计算性能。

该任务的目标是**构建一个深度学习模型，**

对猫狗的图像进行分类。

数据集包含25000张图像，猫和狗的样本数是均衡的。

将数据集分为两部分，其中23000张图像用于训练，另外2000张用于验证。



Colab

**优点**

- 能够在Google Drive上保存notebook
- 可以在notebook中添加注释
- 和GIthub的集成较好——可以直接把notebook保存到Github仓库中
- 具有免费的TPU。TPU和GPU类似，但是比GPU更快。TPU是谷歌自行开发的一款芯片，但不幸的是，尽管Colab意在整合PyTotch和TPU，但TPU对PyTorch的支持仍不太友好。如果使用TensorFlow进行编程，而不是使用FastAI/Pytorch编程，那么在Colab上使用TPU可要比在Kaggle上使用GPU快多了。

**缺点**

- 部分用户在Colab中的共享内存较小。
- 谷歌云盘的使用较为麻烦。每个会话都需要进行身份验证，而且在谷歌云盘中解压文件较为麻烦。
- 键盘快捷键和Jupyter Notebook中不太一样。具体对比可以参见这里。



挂载

```
from google.colab import drive
drive.mount('/content/drive')
```



参考资料

1、免费GPU哪家强？谷歌Kaggle vs. Colab

http://www.elecfans.com/d/953764.html