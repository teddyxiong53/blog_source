---
title: 《深入Linux设备驱动程序内核机制》读书笔记
date: 2018-03-05 21:03:30
tags:
	- Linux

---



这本书的不是讲驱动的写法，也不是讲内核，它讲的是从设备驱动程序的角度出发，深入到内核中去剖析那些跟驱动密切相关的内核代码。

解答这样的疑问：

```
1、为什么这个地方要用workqueue而不是tasklet？
2、为什么中断里应该用spin_lock而不是mutex_lock？
```

这本书写于2011年，不算太老。作者是做linux驱动开发的。



# 第1章 内核模块

模块的加载过程

# 第2章 char设备驱动



# 第3章 分配内存



内存页。物理内存的每个页都对应一个struct page结构体。

用`struct page *mem_map;`这个全局变量来管理。

4K的页对于大多数架构都是正常的，所以讨论就是以4K的页为准。

