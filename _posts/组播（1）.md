---
title: 组播（1）
date: 2018-05-04 14:33:43
tags:
	- 网络

---



在日常生活和工作中，似乎不容易接触到组播这个内容。那么组播的一般用途是什么？



多播也叫组播，在视频会议、网上视频点播这些场合特别适合使用组播。



一般采用D类地址来进行多播。

当一个进程向一个D类地址发送数据包的时候，会尽最大努力将它发送给小组的所有成员。

但是不能保证送到。



多播要靠特殊的多播路由器来实现。多播路由器比普通路由器功能要多。

各个多播路由器，会每60秒发送一个硬件多播信息给子网上的主机（目标地址为244.0.0.1），要求他们报告自己属于哪一个组。各个主机把自己感兴趣的D类地址返回。





组播是在公网上跑的？



公共互联网中的一些团体经常会用到ip多播。mbone就是其中一个例子。

mbone是多播骨干网。



多播跟单播相比，在一对多的通信中，可以大大节约网络资源。

当采用多播方式的时候，视频服务器只需要把视频数据包当成多播包来发送。



局域网有硬件多播功能。



**多播只能是udp的。**

# 组播和igmp关系

组播的实现要依赖IGMP这个组件。

IGMP目前有3个版本。v1、v2、v3 。



一个组播的典型过程是：



# 视频直播用的是组播方式吗

不是。

是靠cdn方式。这样对主服务器的压力也不是很大。

这个是系统项目，目前所属行业来讲，直播技术使用的是nginx的HLS多媒体服务（或SRS、BMS)+OBS开源直播平台，用户端使用的是CDN加速，局域网测试1080在迟再2-3秒，如果是广域网的话延迟高10秒以上。

其实抓包就知道了，是单播。跨三层组播，客户端来自不同的区域，需要运营商支持组播路由协议pim建立组播流量结构，几乎不太可能实现。

大部分都是单播，IPTV应该是采用了组播的。网上找了下两者的优缺点。

单播的优点：　　
1. 服务器及时响应客户机的请求　　
2. 服务器针对每个客户不同请求发送不同数据，容易实现个性化服务。

单播的缺点：　　

1. 在客户数量大、每个客户机流量大的流媒体应用中服务器不堪重负。　　
2. . 现有的网络带宽是金字塔结构，如果全部使用单播协议，将造成网络主干不堪重负。

组播的优点：　　
1. 需要相同数据流的客户端加入相同的组共享一条数据流，节省了服务器的负载。具备广播所具备的优点。　　
2. 由于组播协议是根据接受者的需要对数据流进行复制转发，所以服务端的服务总带宽不受客户接入端带宽的限制。所以其提供的服务可以非常丰富。　　
3. 此协议和单播协议一样允许在Internet宽带网上传输。
  组播的缺点：　　
  1．与单播协议相比没有纠错机制，发生丢包错包后难以弥补，但可以通过一定的容错机制和QOS加以弥补。　
  2．现行网络虽然都支持组播的传输，但在客户认证、QOS等方面还需要完善，这些缺点在理论上都有成熟的解决方案，只是需要逐步推广应用到现存网络当中。可以看出，直播这种需要双方互动的更适合用单播。


都是单播。运营商骨干网配置的组播只给运营商自己的iptv使用。



# 参考资料

1、现在直播、录播等平台是通过“组播”的方式下发流量的吗？

https://www.zhihu.com/question/65869123

2、

https://zhuanlan.zhihu.com/p/28241993

3、

https://www.zhihu.com/question/27233903

4、组播及igmp协议详解

https://blog.csdn.net/xinyuan510214/article/details/51361930