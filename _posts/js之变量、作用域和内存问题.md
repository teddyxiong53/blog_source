---
title: js之变量、作用域和内存问题
date: 2019-03-16 13:43:11
tags:
	- js
---



1

js变量松散类型的本质，决定了它只是在特定的时间内用于保存特定值的一个名字而已。

这个跟c、java了的变量是不同的。

这是一个既有趣又强大，但是又容易出问题的特性。

js里的变量分为两种：

基本类型。String、Number、Boolean、Null、Undefined这5种基本类型。

引用类型。对象的都是这种。键值对的。

基本类型的按值访问的。

js不允许直接访问内存里的地址。

我们可以给引用类型动态添加属性，但是不能给基本类型添加属性。

```
var person = new Object();
person.name = "xxx";
alert(personl.name);//是对的。

var name = "xxx";
name.age = 10;
alert(name.age);//不行的。
```



基本类型的复制，是真的复制了一份。而引用类型的复制，只是增加了一个名字。内存使用没有增加了。

```
var obj1 = new Object();
var obj2 = obj1;
obj1.name ="xx";
alert(obj2.name);//也是xx
```



js的函数参数，都是按值传递的。

可以把js的参数想象成局部变量。



执行环境是js里最为重要的一个概念。

执行环境定义了：

1、函数有权访问的数据有哪些。

2、决定了它们各自的行为。



每个执行环境都有一个关联的变量对象。这个对象我们无法在js里访问，但是引擎会处理。



全局执行环境是最外围的一个执行环境。

在web环境里，全局执行环境是window对象。

因此所有全局变量和函数都是作为windows对象的属性而创建的。



每个函数都有自己的执行环境。

当执行流进入到某一个函数时，函数的环境就会被push到一个环境stack里。







参考资料

1、


