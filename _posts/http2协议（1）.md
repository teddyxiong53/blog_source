---
title: http2协议（1）
date: 2018-11-02 15:21:19
tags:
	- 网络

---



怎样使用http2协议？

需要浏览器和服务端同时支持，有一端不支持，就变成http1.1的。



http1.1对http1.0的优化

http1.1还是目前的主流协议。



1、持久连接。就是靠keep-alive来来做的。

2、分块传输编码用来支持流式数据。

3、支持并行处理。这个比较鸡肋，并没有什么用。

4、基于范围的资源请求。

5、更好的缓存机制。





http2.0是比较新的协议，是在2015年才发布标准的。



http2相当于http1.1的改进

```
1、头部压缩。
	现在浏览器的请求时，头部带的信息越来越多，一个网页上的多个js、css、img等被请求时，都会反复把这些
	头部带上。这个数据量就很大了。
	所以，压缩头部，带来的改进很明显。
	http2压缩头部，用的是hpack算法。
	基本原理是维护2个字典，一个静态字典，放常用的头部。
	一个动态字典，放不同的头部。
2、多路复用。
	http1.1里。浏览器可以同时发起的请求，被限制为6个。
	而keepalive方式，则是串行的。
	所以要么并行有数量限制，要么长连接是串行操作。
	所以这个也是一个瓶颈。
	http2实现的多路复用，是建立了一个双向的流通道。
	这个流通道，可以多个http请求并发乱序执行。
	
```





参考资料

1、HTTP/2 与 WEB 性能优化（二）

https://imququ.com/post/http2-and-wpo-2.html

2、Node HTTP/2 Server Push 从了解到放弃

https://juejin.im/post/5ae3f17ef265da0ba062e7e3