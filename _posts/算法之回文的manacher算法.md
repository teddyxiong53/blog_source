---
title: 算法之回文的manacher算法
date: 2019-04-12 10:07:30
tags:
	- 算法

---



manacher算法，中国人喜欢翻译为马拉车算法。

Manacher 是一个人的名字，他在1975年发明了这种用来查找一个字符串里最长的回文字符串的方法。

这个方法最大的贡献就是把时间复杂度提升到了线性。

回文字符串的长度，可以是奇数，也可以是偶数。

例如bob，noon。

马拉车的第一步就是进行预处理。在每一个字符的左边和右边都加上一个特殊字符，例如#。

```
#b#o#b#
#n#o#o#n#
```

这样就都变成了奇数了。

就可以统一处理了。

我们下面的例子，都基于“122122”这个字符串来进行讨论。

```
122122  str1
|
V
#1#2#2#1#2#2#  str2

我们要引入一个新的数组：arr
长度跟str2一样。
里面一次存放的是str2每一个字符的回文半径。
# 1 # 2 # 2 # 1 # 2 # 2 #  str2
1 2 1 2 5 2 1 6 1 2 3 2 1  arr

以第二个1为中心的回文字符串，半径是6，而没有添加#号的字符串，22122，长度是5 。
6-1=5 。
是加#后的半径减1。是这个规律吗？
是的。我们可以多找几个例子验证一下。
所以，只要找到str2的最大半径，就可以得到最大回文字符串的长度了。
但是，现在只有长度，我们还需要知道子串的开始的位置。

```



参考资料

1、Manacher's Algorithm 马拉车算法

http://www.cnblogs.com/grandyang/p/4475985.html

2、

https://segmentfault.com/a/1190000006875558