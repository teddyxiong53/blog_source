---
title: js之严格模式
date: 2018-12-26 11:09:27
tags:
	- js
---





看js代码，经常看到use strict。

这个就是严格模式，具体代表了什么内涵呢？

严格模式 ，是es5开始引入的。

有的浏览器不支持严格模式，处理严格模式代码表现会不一样。



严格模式对正常的js语义做一些修改

1、严格模式把本来静默错误，进行了抛出。

2、修复了一些导致js引擎难以执行优化的缺陷。也就是说，相同的代码，严格模式下，运行速度更快。

3、严格模式禁用了在ecmascript下将来可能会定义的一些语法。



严格模式的应用范围，可以是整个文件，也可以是一个函数内部。

为整个脚本开启严格模式，就是在文件的最前面加上：

```
'use strict';
```

这个可能导致问题。

在函数内部使用严格模式，可能更加安全一点，不会导致大范围的错误。

# 暴露问题

之前为了让新人尽快上手，很多问题是忽略的。

但是这样为后面的运行留下了隐患。

## 严格模式下，不能意外创建全局变量。

```
x = 1
```

这样，在非严格模式下，实际效果是：window.x = 1

在严格模式下，会报错。

## 静默失败变成异常

静默失败是什么影响都么有。

例如NaN是一个只读的全局变量。你给它赋值是不对的，但是你赋值了，也不报错，就是什么用都没有。

开发者也不知道导致有没有用。

严格模式下，这种行为就会抛出异常了。

## 



参考资料

1、

https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Strict_mode