---
title: vim写代码的一些技巧
date: 2016-10-23 17:08:17
tags:
	- vim
---
* `gg=G` 把整个文件进行缩进对齐。在拷贝了其他地方的代码后，格式对不齐时，非常有用。等于号的本质就是排版。你可以选中一部分代码，然后按一下等于号，可以把选中部分进行排版。
* `ZZ` 快速保存退出，比用`:wq`要方便一点。
* `]p` 这样粘贴代码，会自动缩进到合适的程度
* `Ctrl+i` 前进
* `Ctrl+o` 后退
* `:ju` 列出所有可以跳转的标签
* `:ls` 这个在你打开了很多个文件（例如在各个文件之间跳转而打开多个文件），想要快速回到你本来编辑的文件时有用。先用这个命令看看打开了哪些问，然后再用`:bN`（N是要看实际的文件对应的数字值的。例如`:b1`），表示回到数字1对应的文件。

* `g+]` vim同名函数的跳转选择。在实际的编程中，往往有大量的函数会有相同的名字，用不同的宏分隔开的。那么如果用`Ctrl+]`来进行跳转，往往找到的不是自己想要的那个，那怎么办呢？就用`g+]`来替换`Ctrl+]`来跳转就好了。然后会把所有的同名函数列出来让你选择的。
* `shift + K` 打开对应的man页面。
* `gf` 打开对应的头文件。gf是goto file的意思。


* 全词匹配搜索：`\<word\>`。如果只匹配半边，则分别代表搜索以word开头或者结尾的字符。
* 



# 移动光标

按0也是跳到行首，这个比^要方便一点。

2$表示移动到下一行的行尾。

H、M、L分别表示移动到屏幕上、中、下的非空白字符。

..  2个点表示回到上次编辑的地方。

2dd：表示删除当前行和下一行。

2yy：表示复制当前开始的2行。

J：合并行。

2G：移动到下一行的行首。

2+ ：光标下移2行，

2-：光标上移2行。

大中小括号都可以进行较大幅度的跳转。

中括号要双击的才有用。

c：cut。剪切。

还是要借助v模式来做。



# 查找命令

*：向下查找。

`#`：向上查找。

/xx：向下查找。

?xx：向上查找。

n：下一处。

N：上一次。



# 我在编码实践中的总结

跳到配对的括号：按%就好。

全选：ggVG。

全部复制：ggyG。

用jj替换esc。在~/.vimrc里加上下面2行。

```
let mapleader=','
inoremap jj <Esc>`^
```

A：这样在写了很多括号后，直接跳到行尾去加分号很方便。

退出插入模式，还可以用ctrl+ [，这个快捷键比esc方便一点。

# 列编辑

```
先按ctrl+v进入列编辑选中状态。
然后放方向键进行选中。
然后按shift+i进行列编辑插入状态
插入输入字符串，然后按esc，就可以看到效果。
```



# 重新学习

## 正常模式

这个模式下，主要进行的是光标移动、复制、粘贴、删除这几个操作。

### 快速移动光标

字符级别：就方向键了。

单词级别：w、b。

行级别：0、^、$。fa表示移动本行内到下一个以a开始的位置处。Fa则跟fa方向相反。ta则是调到a前面的那个字符。在fa和ta进行定位的情况下，使用`;`和`,`可以进行下一个和上一个。

跨行级别：

10G。调到第10行的行首。

gg：调到第一行的行首。

G：跳到最后一行的行首。

H/L/M：屏幕上定位。

%：括号匹配。需要当前光标就在括号上。

*、#：定位当前单词的上一个、下一个。

页级别：

ctrl+f

ctrl+b

### 复制、粘贴、删除

复制：y

粘贴：p

删除：d

字符级别：d，就是删除当前字符。

单词级别：d3w：删除3个单词。

行级别：

dfa：删除到下一个字母a

dd：删除当前行。

3dd：删除3行。

d$：删除到当前行尾。

### undo和redo

undo就是字母u。

redo就是ctrl+r。

### 大小写转换

gUw：把光标当前所在单词改成大写。

guw：把光标当前所在单词改成小写。

也可以进可视模式选择再操作。



# 重新载入文件

```
:e
```

就可以。

如要强制重新载入：

```
:e!
```

# g开头的命令

gd、gf都是我常用的命令，发现g开头的命令都比较有用。

系统看看g开头的命令有哪些。

```
:help g  
这个就可以看到所有的g开头的命令。
```

g也没有特别的什么含义，就因为剩余没有特殊用途的字母本来就不多。

还有一个是z。





参考资料

1、

https://zhuanlan.zhihu.com/p/51440836

# 设置自动保存session



https://blog.csdn.net/hk2291976/article/details/17335177



# 参考资料

1、

https://www.jianshu.com/p/dde77e3b299f

2、映射键盘

https://www.zhihu.com/question/273882438

3、

这篇非常好，讲得很好。不装。

https://zhuanlan.zhihu.com/p/68111471