---
title: 蓝牙之mesh
date: 2019-03-13 15:22:11
tags:
	- 蓝牙

---

--

跟蓝牙核心规范一样，蓝牙mesh也有一套规范。

规范地址在这里：

https://www.bluetooth.com/specifications/mesh-specifications

基于ble，针对大量设备组网的情况。

例如传感器网络。



mesh是蓝牙领域的一个新事物，有自己的一套术语。



哪些设备可以部署蓝牙mesh呢？

原理上是可以兼容蓝牙4.0的。



手机如何接入到蓝牙mesh呢？

需要使用蓝牙mesh的proxy协议。

# 简介

下面是关于蓝牙Mesh的简要介绍：

| 特性               | 说明                                                         |
| ------------------ | ------------------------------------------------------------ |
| **什么是蓝牙Mesh** | 蓝牙Mesh是一种基于蓝牙技术的无线网络拓扑，可以连接多个设备形成一个自组织的网络。 |
| **自组织网络**     | 蓝牙Mesh网络是自组织的，意味着每个设备都可以相互通信和转发数据，而无需中心节点。 |
| **多设备连接**     | 蓝牙Mesh支持连接大量设备，可以用于智能家居、工业自动化、智能照明等场景。 |
| **低功耗**         | 蓝牙Mesh设计用于低功耗应用，可以在电池供电的设备上长时间运行。 |
| **灵活的拓扑结构** | 蓝牙Mesh支持多种拓扑结构，包括星型、网状和混合拓扑，适用于不同的应用场景。 |

蓝牙Mesh技术在物联网领域得到了广泛应用，它为设备之间的通信提供了灵活、可靠且低功耗的解决方案。

# 使用场景举例通俗说明

以下是一些通俗易懂的蓝牙Mesh使用场景举例：

| 场景           | 说明                                                         |
| -------------- | ------------------------------------------------------------ |
| 智能家居       | 在智能家居中，各种设备如智能灯泡、智能插座、传感器等可以通过蓝牙Mesh网络相互连接，实现智能控制和自动化。用户可以通过手机或智能音箱轻松控制各种设备。 |
| 工业自动化     | 在工业环境中，蓝牙Mesh可用于监控和控制各种设备和传感器，如温度传感器、湿度传感器、电机等。通过Mesh网络，设备可以实时交换数据并对生产过程进行调控，提高效率和安全性。 |
| 商业照明       | 商业建筑的照明系统可以使用蓝牙Mesh网络。灯具之间可以相互通信，根据环境条件和用户需求调整亮度、颜色等参数。管理员可以通过智能控制器对整个照明系统进行管理和监控，实现节能和舒适度。 |
| 智慧城市       | 在城市中，蓝牙Mesh网络可以用于监测交通、空气质量、垃圾桶状态等信息。这些数据可以实时传输到城市管理中心，帮助决策者更好地管理城市资源，提高城市的智慧化程度。 |
| 高尔夫球场管理 | 在高尔夫球场，蓝牙Mesh可以用于管理和定位球车、监测球员位置、提供实时数据等功能。通过Mesh网络，球场管理者可以实时了解球场情况，提供更好的服务和体验。 |

这些场景只是蓝牙Mesh技术的一小部分应用，实际上，它可以用于更广泛的领域，如智能医疗、智能农业、物流等，为各种物联网应用提供了可靠的通信解决方案。

# 蓝牙mesh用树莓派在智能家居场景组建网络说明

在智能家居场景中，使用树莓派组建蓝牙Mesh网络是一种常见的方式，以下是简要的步骤说明：

### 材料准备：
1. 树莓派（建议选用树莓派3或更新版本）
2. 蓝牙Mesh兼容的蓝牙模块（如NRF52系列）
3. 电源适配器、MicroSD卡、键盘、显示器等（树莓派基本配件）

### 步骤：
1. **准备树莓派操作系统：** 在MicroSD卡上烧录树莓派操作系统（如Raspberry Pi OS），并进行基本设置，确保树莓派可以正常工作。
   
2. **连接蓝牙模块：** 将蓝牙Mesh兼容的蓝牙模块连接到树莓派上。确保连接正确并稳定。

3. **安装蓝牙Mesh协议栈：** 在树莓派上安装蓝牙Mesh协议栈的软件包。可以使用开源的蓝牙Mesh协议栈实现，如Zephyr Project等。

4. **配置Mesh网络：** 编写或使用现有的程序来配置蓝牙Mesh网络。可以设置节点的角色（如中心节点、边缘节点），网络拓扑结构等参数。

5. **测试与调试：** 将树莓派连接到智能家居设备，通过测试和调试确保网络连接稳定、数据传输可靠。

6. **集成应用：** 开发或集成智能家居应用程序，通过蓝牙Mesh网络控制智能设备，实现各种智能家居功能。

7. **部署与运维：** 部署树莓派节点到家庭各个位置，确保覆盖范围和信号强度满足需求。定期进行网络维护和管理，保证系统正常运行。

通过以上步骤，就可以在智能家居场景中利用树莓派搭建蓝牙Mesh网络，实现设备之间的智能连接和控制。

# bluez mesh说明

BlueZ Mesh是基于BlueZ蓝牙协议栈的蓝牙Mesh实现。以下是关于BlueZ Mesh的简要说明：

### BlueZ蓝牙协议栈
BlueZ是Linux系统上用于蓝牙通信的标准协议栈，提供了蓝牙核心协议（如RFCOMM、L2CAP）以及各种蓝牙协议的实现。它是Linux系统中蓝牙功能的基础。

### BlueZ Mesh
BlueZ Mesh是在BlueZ蓝牙协议栈基础上实现的蓝牙Mesh网络。它支持Bluetooth Mesh规范，并提供了一系列API和工具，用于创建、管理和控制蓝牙Mesh网络。

### 特性
- **基于标准蓝牙协议栈：** BlueZ Mesh构建在标准的BlueZ蓝牙协议栈之上，与Linux系统紧密集成。
- **兼容Bluetooth Mesh规范：** BlueZ Mesh实现了Bluetooth Mesh规范，支持标准的Mesh网络拓扑结构和协议特性。
- **灵活的API和工具：** 提供了丰富的API和命令行工具，用于创建、配置和管理蓝牙Mesh网络。
- **适用于Linux系统：** BlueZ Mesh适用于Linux系统，可以在各种Linux发行版上运行，并与其他系统组件无缝集成。

### 使用场景
- **物联网设备控制：** 可以用于控制智能家居、智能办公等场景中的物联网设备，如灯泡、传感器等。
- **工业自动化：** 适用于工业自动化领域，用于监控和控制各种工业设备和传感器。
- **智能照明系统：** 可以构建智能照明系统，实现灯具之间的互联和远程控制。
- **智能城市：** 用于构建智慧城市中的物联网设备网络，如交通监控、环境监测等。

### 注意事项
- BlueZ Mesh目前仍处于活跃开发阶段，可能存在一些限制和不稳定性。
- 部署和配置BlueZ Mesh需要一定的Linux系统和蓝牙技术知识。
- 在实际应用中，需要根据具体场景和需求进行定制和适配。

总的来说，BlueZ Mesh提供了在Linux系统上构建蓝牙Mesh网络的解决方案，为物联网应用提供了一种灵活、可靠的通信方案。

# 参考资料

1、蓝牙Mesh网络 

https://www.jianshu.com/p/fbd7db0314fc